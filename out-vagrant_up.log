Bringing machine 'default' up with 'virtualbox' provider...
==> default: Importing base box 'hashicorp/bionic64'...

==> default: Matching MAC address for NAT networking...
==> default: Checking if box 'hashicorp/bionic64' version '1.0.282' is up to date...
==> default: Setting the name of the VM: c2-b10-5_default_1644938505616_81675
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 (guest) => 2222 (host) (adapter 1)
==> default: Running 'pre-boot' VM customizations...
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: Warning: Connection reset. Retrying...
    default: Warning: Remote connection disconnect. Retrying...
    default: 
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default: 
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it's present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==> default: Machine booted and ready!
==> default: Checking for guest additions in VM...
    default: The guest additions on this VM do not match the installed version of
    default: VirtualBox! In most cases this is fine, but in rare cases it can
    default: prevent things such as shared folders from working properly. If you see
    default: shared folder errors, please make sure the guest additions within the
    default: virtual machine match the version of VirtualBox you have installed on
    default: your host and reload your VM.
    default: 
    default: Guest Additions Version: 6.0.10
    default: VirtualBox Version: 6.1
==> default: Mounting shared folders...
    default: /vagrant => /home/user/dev/c2-b10-5
==> default: Running provisioner: ansible_local...
    default: Installing Ansible...
    default: Running ansible-playbook...

PLAY [SF ansible tasks - deploy] ***********************************************

TASK [Gathering Facts] *********************************************************
[DEPRECATION WARNING]: Distribution Ubuntu 18.04 on host default should use 
/usr/bin/python3, but is using /usr/bin/python for backward compatibility with 
prior Ansible releases. A future Ansible release will default to using the 
discovered platform python for this host. See https://docs.ansible.com/ansible/
2.9/reference_appendices/interpreter_discovery.html for more information. This 
feature will be removed in version 2.12. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
ok: [default]

TASK [Install common packages] *************************************************
ok: [default] => (item=ca-certificates)
ok: [default] => (item=curl)
ok: [default] => (item=python3)
ok: [default] => (item=gnupg)
ok: [default] => (item=lsb-release)
changed: [default] => (item=language-pack-ru)
[WARNING]: Updating cache and auto-installing missing dependency: python-apt

TASK [postgresql : Set pgp repo key] *******************************************
changed: [default]

TASK [postgresql : Set pgp repo key] *******************************************
skipping: [default]

TASK [postgresql : Import pgp repo key] ****************************************
skipping: [default]

TASK [postgresql : Import pgp repo key] ****************************************
changed: [default]

TASK [postgresql : Add repository] *********************************************
skipping: [default]

TASK [postgresql : Clean repository cache (CentOS)] ****************************
skipping: [default]

TASK [postgresql : Disable selinux (CentOS)] ***********************************
skipping: [default]

TASK [postgresql : Disable selinux permanently (CentOS)] ***********************
skipping: [default]

TASK [postgresql : Work out the distribution] **********************************
changed: [default]

TASK [postgresql : Add repository] *********************************************
changed: [default]

TASK [postgresql : Install package] ********************************************
skipping: [default]

TASK [postgresql : Install package] ********************************************
changed: [default]

TASK [test : check postgresql version] *****************************************
changed: [default]

TASK [test : debug] ************************************************************
ok: [default] => {
    "msg": [
        "                                                  version                                                  ", 
        "-----------------------------------------------------------------------------------------------------------", 
        " PostgreSQL 8.4.22 on x86_64-pc-linux-gnu, compiled by GCC gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0, 64-bit", 
        "(1 row)"
    ]
}

TASK [test : check postgresql service] *****************************************
changed: [default]

TASK [test : debug] ************************************************************
ok: [default] => {
    "msg": [
        "● postgresql@8.4-main.service - PostgreSQL Cluster 8.4-main", 
        "   Loaded: loaded (/lib/systemd/system/postgresql@.service; indirect; vendor preset: enabled)", 
        "   Active: active (running) since Tue 2022-02-15 15:27:09 UTC; 6s ago", 
        " Main PID: 17952 (postgres)", 
        "    Tasks: 5 (limit: 4660)", 
        "   CGroup: /system.slice/system-postgresql.slice/postgresql@8.4-main.service", 
        "           ├─17952 /usr/lib/postgresql/8.4/bin/postgres -D /var/lib/postgresql/8.4/main -c config_file=/etc/postgresql/8.4/main/postgresql.conf", 
        "           ├─17961 postgres: writer process   ", 
        "           ├─17962 postgres: wal writer process   ", 
        "           ├─17963 postgres: autovacuum launcher process   ", 
        "           └─17964 postgres: stats collector process   ", 
        "", 
        "Feb 15 15:27:06 vagrant systemd[1]: Starting PostgreSQL Cluster 8.4-main...", 
        "Feb 15 15:27:09 vagrant systemd[1]: Started PostgreSQL Cluster 8.4-main."
    ]
}

PLAY RECAP *********************************************************************
default                    : ok=11   changed=8    unreachable=0    failed=0    skipped=7    rescued=0    ignored=0   

